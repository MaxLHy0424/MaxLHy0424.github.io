---
import CryptoJS from "crypto-js";
import PasswordProtection from "./PasswordProtection.astro";
import "../styles/markdown.css";
import "../styles/expressive-code.css";
import "../styles/encrypted-content.css";
import "../styles/markdown-extend.styl";

interface Props {
	password: string | number;
}

const { password } = Astro.props;

const htmlContent = await Astro.slots.render("default");

const contentToEncrypt = "MIZUKI-VERIFY:" + htmlContent;
const encryptedContent = CryptoJS.AES.encrypt(
	contentToEncrypt,
	String(password),
).toString();
---

<PasswordProtection encryptedContent={encryptedContent} />
